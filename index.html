<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SkyShop Official | Professional Ecommerce</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      :root {
        --primary: #1e40af;
        --accent: #2563eb;
        --dark: #0f172a;
        --gray: #64748b;
        --light: #f8fafc;
        --card: #ffffff;
        --success: #16a34a;
        --danger: #dc2626;
        --warning: #f59e0b;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Segoe UI", system-ui, Arial, sans-serif;
        background: var(--light);
        color: var(--dark);
        line-height: 1.6;
      }

      /* Loading Screen */
      .loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--card);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        transition: opacity 0.5s, visibility 0.5s;
      }

      .loading-screen.hidden {
        opacity: 0;
        visibility: hidden;
      }

      .spinner {
        width: 50px;
        height: 50px;
        border: 5px solid rgba(30, 64, 175, 0.1);
        border-radius: 50%;
        border-top-color: var(--primary);
        animation: spin 1s ease-in-out infinite;
        margin-bottom: 20px;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* Header Styles */
      header {
        position: sticky;
        top: 0;
        z-index: 1000;
        background: var(--card);
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px 40px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        transition: box-shadow 0.3s;
      }

      header.scrolled {
        box-shadow: 0 6px 30px rgba(0, 0, 0, 0.1);
      }

      header h1 {
        color: var(--primary);
        font-size: 26px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      nav {
        display: flex;
        align-items: center;
      }

      nav a {
        margin-left: 24px;
        text-decoration: none;
        color: var(--dark);
        font-weight: 500;
        transition: color 0.3s;
        position: relative;
      }

      nav a::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 2px;
        background: var(--accent);
        transition: width 0.3s;
      }

      nav a:hover {
        color: var(--accent);
      }

      nav a:hover::after {
        width: 100%;
      }

      .search-bar {
        position: relative;
        margin-left: 24px;
      }

      .search-bar input {
        padding: 8px 16px 8px 40px;
        border-radius: 20px;
        border: 1px solid #e2e8f0;
        width: 200px;
        transition: width 0.3s, border-color 0.3s;
      }

      .search-bar input:focus {
        width: 250px;
        outline: none;
        border-color: var(--accent);
      }

      .search-bar i {
        position: absolute;
        left: 14px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--gray);
      }

      .search-btn {
        position: absolute;
        right: 5px;
        top: 50%;
        transform: translateY(-50%);
        background: var(--primary);
        border: none;
        border-radius: 50%;
        width: 28px;
        height: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        cursor: pointer;
        transition: background 0.3s;
      }

      .search-btn:hover {
        background: var(--accent);
      }

      .header-icons {
        display: flex;
        align-items: center;
        gap: 20px;
      }

      .icon-btn {
        background: none;
        border: none;
        color: var(--dark);
        font-size: 20px;
        cursor: pointer;
        position: relative;
        transition: color 0.3s;
      }

      .icon-btn:hover {
        color: var(--accent);
      }

      .icon-btn .badge {
        position: absolute;
        top: -8px;
        right: -8px;
        background: var(--danger);
        color: white;
        font-size: 10px;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* Mobile Menu Toggle */
      .mobile-menu-toggle {
        display: none;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: var(--dark);
      }

      /* Hero Section */
      .hero {
        padding: 100px 40px;
        background: linear-gradient(135deg, #1e3a8a, #2563eb);
        color: white;
        display: grid;
        grid-template-columns: 1fr 1fr;
        align-items: center;
        gap: 40px;
        position: relative;
        overflow: hidden;
      }

      .hero::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></svg>');
        background-size: 100px 100px;
        opacity: 0.4;
      }

      .hero-content {
        position: relative;
        z-index: 1;
      }

      .hero h2 {
        font-size: 48px;
        margin-bottom: 20px;
        animation: fadeInUp 0.8s ease;
      }

      .hero p {
        font-size: 18px;
        opacity: 0.95;
        margin-bottom: 30px;
        animation: fadeInUp 0.8s ease 0.2s;
        animation-fill-mode: both;
      }

      .hero-buttons {
        display: flex;
        gap: 15px;
        animation: fadeInUp 0.8s ease 0.4s;
        animation-fill-mode: both;
      }

      .hero button {
        background: white;
        color: var(--primary);
        border: none;
        padding: 14px 26px;
        font-size: 16px;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 600;
        transition: transform 0.3s, box-shadow 0.3s;
      }

      .hero button:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      }

      .hero button.secondary {
        background: transparent;
        color: white;
        border: 2px solid white;
      }

      .hero-image {
        position: relative;
        z-index: 1;
        animation: fadeIn 1s ease 0.6s;
        animation-fill-mode: both;
      }

      .hero-image img {
        width: 100%;
        border-radius: 24px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      }

      /* Section Styles */
      .section {
        padding: 80px 40px;
        max-width: 1300px;
        margin: auto;
      }

      .section-header {
        text-align: center;
        margin-bottom: 60px;
      }

      .section h2 {
        font-size: 36px;
        margin-bottom: 16px;
      }

      .section p {
        color: var(--gray);
        margin-bottom: 40px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }

      /* Category Filter */
      .category-filter {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 40px;
        flex-wrap: wrap;
      }

      .category-btn {
        padding: 8px 20px;
        background: var(--card);
        border: 1px solid #e2e8f0;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.3s;
      }

      .category-btn:hover,
      .category-btn.active {
        background: var(--primary);
        color: white;
        border-color: var(--primary);
      }

      /* Search Results Info */
      .search-results {
        margin-bottom: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .search-results-text {
        color: var(--gray);
        font-size: 14px;
      }

      .clear-search {
        background: none;
        border: none;
        color: var(--danger);
        cursor: pointer;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .clear-search:hover {
        text-decoration: underline;
      }

      /* Features */
      .features {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 30px;
      }

      .feature {
        background: var(--card);
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06);
        transition: transform 0.3s, box-shadow 0.3s;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
      }

      .feature:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
      }

      .feature i {
        font-size: 40px;
        color: var(--primary);
        margin-bottom: 20px;
      }

      .feature h3 {
        margin-bottom: 10px;
      }

      /* Products */
      .products {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        gap: 28px;
      }

      .card {
        background: var(--card);
        border-radius: 22px;
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.06);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        transition: transform 0.3s, box-shadow 0.3s;
        position: relative;
      }

      .card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
      }

      .card .badge {
        position: absolute;
        top: 15px;
        right: 15px;
        background: var(--danger);
        color: white;
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: bold;
        z-index: 1;
      }

      .card .badge.new {
        background: var(--success);
      }

      .card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        transition: transform 0.5s;
      }

      .card:hover img {
        transform: scale(1.05);
      }

      .card .info {
        padding: 20px;
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      .card .category {
        color: var(--gray);
        font-size: 12px;
        margin-bottom: 5px;
      }

      .card h3 {
        margin-bottom: 8px;
      }

      .card .rating {
        display: flex;
        align-items: center;
        gap: 5px;
        margin-bottom: 10px;
      }

      .card .rating i {
        color: var(--warning);
        font-size: 14px;
      }

      .card .rating span {
        color: var(--gray);
        font-size: 14px;
      }

      .price {
        color: var(--primary);
        font-weight: 700;
        margin-bottom: 12px;
        font-size: 18px;
      }

      .card .old-price {
        color: var(--gray);
        text-decoration: line-through;
        font-size: 14px;
        margin-right: 10px;
      }

      .card .discount {
        color: var(--danger);
        font-weight: 700;
      }

      .card-actions {
        display: flex;
        gap: 10px;
        margin-top: auto;
      }

      .card button {
        flex: 1;
        padding: 12px;
        border: none;
        border-radius: 14px;
        background: var(--accent);
        color: white;
        font-size: 15px;
        cursor: pointer;
        transition: background 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .card button:hover {
        background: var(--primary);
      }

      .card button.secondary {
        background: #f1f5f9;
        color: var(--dark);
      }

      .card button.secondary:hover {
        background: #e2e8f0;
      }

      /* Cart Panel */
      .cart-panel {
        position: fixed;
        top: 0;
        right: -420px;
        width: 400px;
        height: 100%;
        background: var(--card);
        box-shadow: -10px 0 30px rgba(0, 0, 0, 0.15);
        padding: 24px;
        transition: 0.4s;
        display: flex;
        flex-direction: column;
        z-index: 1001;
      }

      .cart-panel.active {
        right: 0;
      }

      .cart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .cart-header h3 {
        margin-bottom: 0;
      }

      .close-cart {
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: var(--gray);
        transition: color 0.3s;
      }

      .close-cart:hover {
        color: var(--dark);
      }

      .cart-items {
        flex: 1;
        overflow-y: auto;
      }

      .cart-item {
        display: flex;
        gap: 15px;
        margin-bottom: 20px;
        padding-bottom: 20px;
        border-bottom: 1px solid #e2e8f0;
      }

      .cart-item img {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 10px;
      }

      .cart-item-info {
        flex: 1;
      }

      .cart-item-name {
        font-weight: 600;
        margin-bottom: 5px;
      }

      .cart-item-price {
        color: var(--primary);
        font-weight: 700;
        margin-bottom: 10px;
      }

      .cart-item-quantity {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .quantity-btn {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background: #f1f5f9;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.3s;
      }

      .quantity-btn:hover {
        background: #e2e8f0;
      }

      .cart-item-remove {
        background: none;
        border: none;
        color: var(--danger);
        cursor: pointer;
        transition: color 0.3s;
      }

      .cart-item-remove:hover {
        color: #b91c1c;
      }

      .cart-summary {
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid #e2e8f0;
      }

      .cart-summary-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
      }

      .cart-summary-row.total {
        font-weight: 700;
        font-size: 18px;
        color: var(--primary);
      }

      .checkout {
        margin-top: 20px;
        padding: 14px;
        background: var(--primary);
        color: white;
        border: none;
        border-radius: 14px;
        cursor: pointer;
        font-weight: 600;
        transition: background 0.3s;
      }

      .checkout:hover {
        background: #1d4ed8;
      }

      .cart-empty {
        text-align: center;
        padding: 40px 0;
        color: var(--gray);
      }

      .cart-empty i {
        font-size: 48px;
        margin-bottom: 15px;
      }

      /* Checkout Modal */
      .checkout-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 2000;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .checkout-modal.active {
        display: flex;
      }

      .checkout-content {
        background: var(--card);
        border-radius: 20px;
        max-width: 500px;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
        animation: fadeInUp 0.5s ease;
      }

      .checkout-header {
        padding: 24px;
        border-bottom: 1px solid #e2e8f0;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .checkout-header h3 {
        margin: 0;
      }

      .checkout-close {
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: var(--gray);
      }

      .checkout-body {
        padding: 24px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
      }

      .form-group input,
      .form-group textarea {
        width: 100%;
        padding: 12px;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s;
      }

      .form-group input:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: var(--accent);
      }

      .form-group textarea {
        resize: vertical;
        min-height: 100px;
      }

      .order-summary {
        background: #f8fafc;
        padding: 16px;
        border-radius: 12px;
        margin-bottom: 20px;
      }

      .order-summary h4 {
        margin-bottom: 12px;
      }

      .order-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 8px;
        font-size: 14px;
      }

      .order-total {
        display: flex;
        justify-content: space-between;
        font-weight: 700;
        font-size: 16px;
        margin-top: 12px;
        padding-top: 12px;
        border-top: 1px solid #e2e8f0;
      }

      .checkout-footer {
        padding: 24px;
        border-top: 1px solid #e2e8f0;
      }

      .checkout-btn {
        width: 100%;
        padding: 14px;
        background: var(--success);
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .checkout-btn:hover {
        background: #15803d;
      }

      /* Product Modal */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 2000;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .modal.active {
        display: flex;
      }

      .modal-content {
        background: var(--card);
        border-radius: 20px;
        max-width: 800px;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
        animation: fadeInUp 0.5s ease;
      }

      .modal-close {
        position: absolute;
        top: 15px;
        right: 15px;
        background: white;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        cursor: pointer;
        z-index: 1;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s;
      }

      .modal-close:hover {
        transform: rotate(90deg);
      }

      .modal-body {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        padding: 30px;
      }

      .modal-image {
        border-radius: 15px;
        overflow: hidden;
      }

      .modal-image img {
        width: 100%;
        height: 400px;
        object-fit: cover;
      }

      .modal-info h2 {
        margin-bottom: 15px;
      }

      .modal-rating {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 15px;
      }

      .modal-rating i {
        color: var(--warning);
      }

      .modal-price {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 20px;
      }

      .modal-price .current {
        font-size: 24px;
        font-weight: 700;
        color: var(--primary);
      }

      .modal-price .old {
        color: var(--gray);
        text-decoration: line-through;
      }

      .modal-price .discount {
        background: var(--danger);
        color: white;
        padding: 3px 8px;
        border-radius: 10px;
        font-size: 14px;
      }

      .modal-description {
        margin-bottom: 20px;
        line-height: 1.6;
      }

      .modal-quantity {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 20px;
      }

      .modal-quantity label {
        font-weight: 600;
      }

      .quantity-controls {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .quantity-controls .quantity-btn {
        width: 30px;
        height: 30px;
      }

      .quantity-controls input {
        width: 50px;
        text-align: center;
        border: 1px solid #e2e8f0;
        border-radius: 5px;
        padding: 5px;
      }

      .modal-actions {
        display: flex;
        gap: 15px;
      }

      .modal-actions button {
        flex: 1;
        padding: 14px;
        border: none;
        border-radius: 14px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .modal-actions .btn-primary {
        background: var(--accent);
        color: white;
      }

      .modal-actions .btn-primary:hover {
        background: var(--primary);
      }

      .modal-actions .btn-secondary {
        background: #f1f5f9;
        color: var(--dark);
      }

      .modal-actions .btn-secondary:hover {
        background: #e2e8f0;
      }

      /* Notification Toast */
      .toast-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 3000;
      }

      .toast {
        background: white;
        border-radius: 10px;
        padding: 15px 20px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 15px;
        min-width: 300px;
        animation: slideInRight 0.5s ease;
        transition: transform 0.3s, opacity 0.3s;
      }

      .toast.removing {
        transform: translateX(100%);
        opacity: 0;
      }

      .toast i {
        font-size: 20px;
      }

      .toast.success i {
        color: var(--success);
      }

      .toast.error i {
        color: var(--danger);
      }

      .toast.info i {
        color: var(--accent);
      }

      .toast-message {
        flex: 1;
      }

      .toast-title {
        font-weight: 600;
        margin-bottom: 3px;
      }

      .toast-text {
        font-size: 14px;
        color: var(--gray);
      }

      /* No Results Message */
      .no-results {
        text-align: center;
        padding: 60px 20px;
        color: var(--gray);
      }

      .no-results i {
        font-size: 64px;
        margin-bottom: 20px;
        color: #cbd5e1;
      }

      .no-results h3 {
        font-size: 24px;
        margin-bottom: 10px;
        color: var(--dark);
      }

      .no-results p {
        margin-bottom: 20px;
      }

      .no-results button {
        background: var(--primary);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        transition: background 0.3s;
      }

      .no-results button:hover {
        background: var(--accent);
      }

      /* Footer */
      footer {
        background: var(--dark);
        color: white;
        padding: 60px 40px;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 40px;
      }

      footer h4 {
        margin-bottom: 14px;
      }

      footer p,
      footer a {
        color: #cbd5f5;
        font-size: 14px;
        text-decoration: none;
        margin-bottom: 8px;
        display: block;
        transition: color 0.3s;
      }

      footer a:hover {
        color: white;
      }

      .social-links {
        display: flex;
        gap: 15px;
        margin-top: 15px;
      }

      .social-links a {
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.3s;
      }

      .social-links a:hover {
        background: var(--accent);
      }

      .copyright {
        grid-column: 1 / -1;
        text-align: center;
        padding-top: 30px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        font-size: 14px;
        color: #94a3b8;
      }

      /* Floating Cart Button */
      .cart-btn {
        position: fixed;
        bottom: 24px;
        right: 24px;
        background: var(--primary);
        color: white;
        padding: 16px 22px;
        border-radius: 999px;
        cursor: pointer;
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.25);
        display: flex;
        align-items: center;
        gap: 10px;
        transition: transform 0.3s, background 0.3s;
        z-index: 999;
      }

      .cart-btn:hover {
        transform: scale(1.05);
        background: #1d4ed8;
      }

      .cart-btn .badge {
        background: var(--danger);
        color: white;
        font-size: 12px;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* Animations */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      /* SCROLL ANIMATION */
      .reveal {
        opacity: 0;
        transform: translateY(40px);
        transition: all 0.8s ease;
      }

      .reveal.active {
        opacity: 1;
        transform: translateY(0);
      }

      /* Responsive Styles */
      @media (max-width: 1024px) {
        .cart-panel {
          width: 350px;
          right: -350px;
        }
      }

      @media (max-width: 768px) {
        header {
          padding: 16px 20px;
        }

        .mobile-menu-toggle {
          display: block;
        }

        nav {
          display: none;
          position: absolute;
          top: 100%;
          left: 0;
          width: 100%;
          background: var(--card);
          flex-direction: column;
          padding: 20px;
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        }

        nav.active {
          display: flex;
        }

        nav a {
          margin: 10px 0;
          margin-left: 0;
        }

        .search-bar {
          display: none;
        }

        .hero {
          grid-template-columns: 1fr;
          text-align: center;
          padding: 60px 20px;
        }

        .hero h2 {
          font-size: 36px;
        }

        .section {
          padding: 60px 20px;
        }

        .cart-panel {
          width: 100%;
          right: -100%;
        }

        .modal-body {
          grid-template-columns: 1fr;
        }

        .cart-btn span {
          display: none;
        }
      }

      @media (max-width: 480px) {
        .hero-buttons {
          flex-direction: column;
        }

        .category-filter {
          gap: 10px;
        }

        .category-btn {
          padding: 6px 16px;
          font-size: 14px;
        }

        .products {
          grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
          gap: 20px;
        }
      }

      html {
        scroll-behavior: smooth;
      }
    </style>
  </head>
  <body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
      <div class="spinner"></div>
      <p>Sedang memuat...</p>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Header -->
    <header id="header">
      <h1><i class="fas fa-shopping-bag"></i> SkyShop</h1>
      <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
        <i class="fas fa-bars"></i>
      </button>
      <nav id="mainNav">
        <a href="#home">Home</a>
        <a href="#fitur">Fitur</a>
        <a href="#produk">Produk</a>
        <a href="#kontak">Kontak</a>
        <div class="search-bar">
          <i class="fas fa-search"></i>
          <input type="text" id="searchInput" placeholder="Cari produk..." />
          <button class="search-btn" onclick="performSearch()">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </nav>
      <div class="header-icons">
        <button class="icon-btn" onclick="toggleWishlist()">
          <i class="far fa-heart"></i>
          <span class="badge" id="wishlistCount">0</span>
        </button>
        <button class="icon-btn" onclick="toggleCart()">
          <i class="fas fa-shopping-cart"></i>
          <span class="badge" id="cartCount">0</span>
        </button>
        <button class="icon-btn">
          <i class="far fa-user"></i>
        </button>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="hero reveal" id="home">
      <div class="hero-content">
        <h2>Platform Belanja Online Modern & Terpercaya</h2>
        <p>
          SkyShop adalah toko online profesional dengan sistem keranjang,
          checkout, dan UI premium setara marketplace besar.
        </p>
        <div class="hero-buttons">
          <button onclick="document.getElementById('produk').scrollIntoView()">
            <i class="fas fa-shopping-bag"></i> Belanja Sekarang
          </button>
          <button
            class="secondary"
            onclick="document.getElementById('fitur').scrollIntoView()"
          >
            <i class="fas fa-info-circle"></i> Pelajari Lebih Lanjut
          </button>
        </div>
      </div>
      <div class="hero-image">
        <img
          src="https://picsum.photos/seed/skyshop-hero/600/400.jpg"
          alt="SkyShop Hero"
        />
      </div>
    </section>

    <!-- Features Section -->
    <section class="section reveal" id="fitur">
      <div class="section-header">
        <h2>Kenapa Memilih SkyShop?</h2>
        <p>Dirancang dengan standar industri ecommerce modern.</p>
      </div>
      <div class="features">
        <div class="feature reveal">
          <i class="fas fa-palette"></i>
          <h3>UI Premium</h3>
          <p>Desain bersih, modern, dan profesional.</p>
        </div>
        <div class="feature reveal">
          <i class="fas fa-shopping-cart"></i>
          <h3>Keranjang Dinamis</h3>
          <p>Tambah, hapus, dan hitung total otomatis.</p>
        </div>
        <div class="feature reveal">
          <i class="fas fa-credit-card"></i>
          <h3>Checkout Siap Pakai</h3>
          <p>Alur pembelian jelas & user-friendly.</p>
        </div>
        <div class="feature reveal">
          <i class="fas fa-rocket"></i>
          <h3>Scalable</h3>
          <p>Siap dikembangkan ke backend & payment.</p>
        </div>
      </div>
    </section>

    <!-- Products Section -->
    <section class="section reveal" id="produk">
      <div class="section-header">
        <h2>Produk Terbaru</h2>
        <p>Pilihan produk berkualitas terbaik untuk kamu.</p>
      </div>

      <!-- Search Results Info (Hidden by default) -->
      <div class="search-results" id="searchResults" style="display: none">
        <div class="search-results-text" id="searchResultsText"></div>
        <button class="clear-search" onclick="clearSearch()">
          <i class="fas fa-times"></i> Hapus Pencarian
        </button>
      </div>

      <!-- Category Filter -->
      <div class="category-filter">
        <button class="category-btn active" onclick="filterProducts('all')">
          Semua
        </button>
        <button class="category-btn" onclick="filterProducts('elektronik')">
          Elektronik
        </button>
        <button class="category-btn" onclick="filterProducts('aksesoris')">
          Aksesoris
        </button>
        <button class="category-btn" onclick="filterProducts('gadget')">
          Gadget
        </button>
      </div>

      <!-- Products Grid -->
      <div class="products" id="productList"></div>

      <!-- No Results Message (Hidden by default) -->
      <div class="no-results" id="noResults" style="display: none">
        <i class="fas fa-search"></i>
        <h3>Tidak ada hasil ditemukan</h3>
        <p id="noResultsText">
          Coba kata kunci lain atau kategori yang berbeda
        </p>
        <button onclick="clearSearch()">Lihat Semua Produk</button>
      </div>
    </section>

    <!-- Footer -->
    <footer id="kontak" class="reveal">
      <div>
        <h4>SkyShop Official</h4>
        <p>Toko online modern & terpercaya.</p>
        <div class="social-links">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-linkedin-in"></i></a>
        </div>
      </div>
      <div>
        <h4>Kontak</h4>
        <p>Email: support@skyshop.id</p>
        <p>Telepon: +62 812-3456-7890</p>
        <p>Alamat: Jakarta, Indonesia</p>
      </div>
      <div>
        <h4>Informasi</h4>
        <a href="#">Tentang Kami</a>
        <a href="#">Syarat & Ketentuan</a>
        <a href="#">Kebijakan Privasi</a>
        <a href="#">FAQ</a>
      </div>
      <div>
        <h4>Layanan Pelanggan</h4>
        <a href="#">Cara Pemesanan</a>
        <a href="#">Pengiriman</a>
        <a href="#">Pengembalian</a>
        <a href="#">Metode Pembayaran</a>
      </div>
      <div class="copyright">
        <p>&copy; 2023 SkyShop. All rights reserved.</p>
      </div>
    </footer>

    <!-- Floating Cart Button -->
    <div class="cart-btn" onclick="toggleCart()">
      <i class="fas fa-shopping-cart"></i>
      <span>Keranjang</span>
      <span class="badge" id="floatingCartCount">0</span>
    </div>

    <!-- Cart Panel -->
    <div class="cart-panel" id="cartPanel">
      <div class="cart-header">
        <h3>Keranjang Belanja</h3>
        <button class="close-cart" onclick="toggleCart()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="cart-items" id="cartItems">
        <div class="cart-empty">
          <i class="fas fa-shopping-cart"></i>
          <p>Keranjang belanja kosong</p>
        </div>
      </div>
      <div class="cart-summary" id="cartSummary" style="display: none">
        <div class="cart-summary-row">
          <span>Subtotal</span>
          <span id="subtotal">Rp 0</span>
        </div>
        <div class="cart-summary-row">
          <span>Ongkos Kirim</span>
          <span id="shipping">Rp 0</span>
        </div>
        <div class="cart-summary-row total">
          <span>Total</span>
          <span id="total">Rp 0</span>
        </div>
      </div>
      <button
        class="checkout"
        id="checkoutBtn"
        onclick="openCheckoutModal()"
        style="display: none"
      >
        Checkout
      </button>
    </div>

    <!-- Checkout Modal -->
    <div class="checkout-modal" id="checkoutModal">
      <div class="checkout-content">
        <div class="checkout-header">
          <h3>Checkout</h3>
          <button class="checkout-close" onclick="closeCheckoutModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="checkout-body">
          <form id="checkoutForm">
            <div class="form-group">
              <label for="customerName">Nama Lengkap *</label>
              <input
                type="text"
                id="customerName"
                required
                placeholder="Masukkan nama lengkap"
              />
            </div>
            <div class="form-group">
              <label for="customerPhone">Nomor WhatsApp *</label>
              <input
                type="tel"
                id="customerPhone"
                required
                placeholder="Contoh: 628123456789"
              />
            </div>
            <div class="form-group">
              <label for="customerAddress">Alamat Pengiriman *</label>
              <textarea
                id="customerAddress"
                required
                placeholder="Masukkan alamat lengkap pengiriman"
              ></textarea>
            </div>
            <div class="form-group">
              <label for="customerNote">Catatan (Opsional)</label>
              <textarea
                id="customerNote"
                placeholder="Catatan khusus untuk pesanan Anda"
              ></textarea>
            </div>

            <div class="order-summary">
              <h4>Ringkasan Pesanan</h4>
              <div id="orderItems"></div>
              <div class="order-total">
                <span>Total Pembayaran</span>
                <span id="orderTotal">Rp 0</span>
              </div>
            </div>
          </form>
        </div>
        <div class="checkout-footer">
          <button class="checkout-btn" onclick="sendToWhatsApp()">
            <i class="fab fa-whatsapp"></i> Kirim ke WhatsApp
          </button>
        </div>
      </div>
    </div>

    <!-- Product Modal -->
    <div class="modal" id="productModal">
      <div class="modal-content">
        <button class="modal-close" onclick="closeProductModal()">
          <i class="fas fa-times"></i>
        </button>
        <div class="modal-body">
          <div class="modal-image">
            <img id="modalImage" src="" alt="" />
          </div>
          <div class="modal-info">
            <h2 id="modalTitle"></h2>
            <div class="modal-rating">
              <div id="modalRating"></div>
              <span id="modalReviews"></span>
            </div>
            <div class="modal-price">
              <span class="current" id="modalPrice"></span>
              <span class="old" id="modalOldPrice"></span>
              <span class="discount" id="modalDiscount"></span>
            </div>
            <div class="modal-description" id="modalDescription"></div>
            <div class="modal-quantity">
              <label>Jumlah:</label>
              <div class="quantity-controls">
                <button class="quantity-btn" onclick="decreaseModalQuantity()">
                  <i class="fas fa-minus"></i>
                </button>
                <input
                  type="number"
                  id="modalQuantity"
                  value="1"
                  min="1"
                  readonly
                />
                <button class="quantity-btn" onclick="increaseModalQuantity()">
                  <i class="fas fa-plus"></i>
                </button>
              </div>
            </div>
            <div class="modal-actions">
              <button class="btn-primary" onclick="addToCartFromModal()">
                <i class="fas fa-shopping-cart"></i> Tambah ke Keranjang
              </button>
              <button class="btn-secondary" onclick="addToWishlistFromModal()">
                <i class="far fa-heart"></i> Wishlist
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Product Data
      const products = [
        {
          id: 1,
          name: "Smartphone Flagship",
          price: 8999000,
          oldPrice: 10999000,
          image: "https://picsum.photos/seed/phone1/500/400.jpg",
          category: "elektronik",
          badge: "Diskon 18%",
          rating: 4.5,
          reviews: 234,
          description:
            "Smartphone flagship dengan kamera terbaik di kelasnya, performa tinggi, dan desain premium.",
        },
        {
          id: 2,
          name: "Laptop Ultrabook",
          price: 13499000,
          oldPrice: 15999000,
          image: "https://picsum.photos/seed/laptop1/500/400.jpg",
          category: "elektronik",
          badge: "Diskon 15%",
          rating: 4.8,
          reviews: 156,
          description:
            "Laptop ultrabook tipis dan ringan dengan performa powerful untuk produktivitas maksimal.",
        },
        {
          id: 3,
          name: "Headphone ANC",
          price: 2999000,
          oldPrice: 3499000,
          image: "https://picsum.photos/seed/headphone1/500/400.jpg",
          category: "aksesoris",
          badge: "Diskon 14%",
          rating: 4.6,
          reviews: 89,
          description:
            "Headphone dengan Active Noise Cancellation untuk pengalaman audio imersif.",
        },
        {
          id: 4,
          name: "Mechanical Keyboard",
          price: 1599000,
          oldPrice: null,
          image: "https://picsum.photos/seed/keyboard1/500/400.jpg",
          category: "aksesoris",
          badge: "New",
          rating: 4.7,
          reviews: 67,
          description:
            "Mechanical keyboard RGB dengan switch premium untuk gaming dan typing.",
        },
        {
          id: 5,
          name: "Smartwatch Pro",
          price: 2499000,
          oldPrice: 2999000,
          image: "https://picsum.photos/seed/watch1/500/400.jpg",
          category: "gadget",
          badge: "Diskon 16%",
          rating: 4.4,
          reviews: 203,
          description:
            "Smartwatch dengan fitur kesehatan lengkap dan notifikasi pintar.",
        },
        {
          id: 6,
          name: "Tablet Premium",
          price: 7999000,
          oldPrice: null,
          image: "https://picsum.photos/seed/tablet1/500/400.jpg",
          category: "gadget",
          badge: "New",
          rating: 4.9,
          reviews: 112,
          description:
            "Tablet premium dengan layar AMOLED dan performa tinggi untuk produktivitas dan hiburan.",
        },
        {
          id: 7,
          name: "Wireless Earbuds",
          price: 1299000,
          oldPrice: 1699000,
          image: "https://picsum.photos/seed/earbuds1/500/400.jpg",
          category: "aksesoris",
          badge: "Diskon 23%",
          rating: 4.3,
          reviews: 145,
          description:
            "Earbuds nirkabel dengan kualitas suara jernih dan baterai tahan lama.",
        },
        {
          id: 8,
          name: 'Smart TV 55"',
          price: 8999000,
          oldPrice: 10999000,
          image: "https://picsum.photos/seed/tv1/500/400.jpg",
          category: "elektronik",
          badge: "Diskon 18%",
          rating: 4.7,
          reviews: 78,
          description:
            "Smart TV 4K dengan sistem operasi pintar dan kualitas gambar superior.",
        },
      ];

      // Initialize from localStorage
      let cart = JSON.parse(localStorage.getItem("skyshop_cart")) || [];
      let wishlist = JSON.parse(localStorage.getItem("skyshop_wishlist")) || [];
      let currentFilter = "all";
      let currentProduct = null;
      let shippingCost = 15000;
      let currentSearchTerm = "";

      // DOM Elements
      const productList = document.getElementById("productList");
      const cartItems = document.getElementById("cartItems");
      const cartPanel = document.getElementById("cartPanel");
      const cartCount = document.getElementById("cartCount");
      const floatingCartCount = document.getElementById("floatingCartCount");
      const wishlistCount = document.getElementById("wishlistCount");
      const searchInput = document.getElementById("searchInput");
      const productModal = document.getElementById("productModal");
      const checkoutModal = document.getElementById("checkoutModal");
      const loadingScreen = document.getElementById("loadingScreen");
      const searchResults = document.getElementById("searchResults");
      const searchResultsText = document.getElementById("searchResultsText");
      const noResults = document.getElementById("noResults");
      const noResultsText = document.getElementById("noResultsText");
      const mainNav = document.getElementById("mainNav");

      // Initialize page
      document.addEventListener("DOMContentLoaded", () => {
        renderProducts();
        updateCartUI();
        updateWishlistUI();

        // Hide loading screen
        setTimeout(() => {
          loadingScreen.classList.add("hidden");
        }, 1000);

        // Search functionality
        searchInput.addEventListener("keyup", (e) => {
          if (e.key === "Enter") {
            performSearch();
          }
        });

        // Header scroll effect
        window.addEventListener("scroll", () => {
          const header = document.getElementById("header");
          if (window.scrollY > 50) {
            header.classList.add("scrolled");
          } else {
            header.classList.remove("scrolled");
          }
        });

        // Close modals when clicking outside
        window.addEventListener("click", (e) => {
          if (e.target === checkoutModal) {
            closeCheckoutModal();
          }
          if (e.target === productModal) {
            closeProductModal();
          }
        });
      });

      // Mobile menu toggle
      function toggleMobileMenu() {
        mainNav.classList.toggle("active");
      }

      // Render products
      function renderProducts(productsToRender = products) {
        productList.innerHTML = "";

        if (productsToRender.length === 0) {
          productList.style.display = "none";
          noResults.style.display = "block";
          return;
        }

        productList.style.display = "grid";
        noResults.style.display = "none";

        productsToRender.forEach((product, index) => {
          const card = document.createElement("div");
          card.className = "card reveal";

          const badgeClass = product.badge === "New" ? "new" : "";
          const oldPriceHtml = product.oldPrice
            ? `<span class="old-price">Rp ${product.oldPrice.toLocaleString(
                "id-ID"
              )}</span>`
            : "";
          const discountHtml = product.oldPrice
            ? `<span class="discount">${product.badge}</span>`
            : "";

          card.innerHTML = `
            ${
              product.badge
                ? `<div class="badge ${badgeClass}">${product.badge}</div>`
                : ""
            }
            <img src="${product.image}" alt="${
            product.name
          }" onclick="openProductModal(${product.id})">
            <div class="info">
              <div class="category">${product.category}</div>
              <h3>${product.name}</h3>
              <div class="rating">
                ${generateStars(product.rating)}
                <span>(${product.reviews})</span>
              </div>
              <div class="price">
                ${oldPriceHtml}
                Rp ${product.price.toLocaleString("id-ID")}
                ${discountHtml}
              </div>
            </div>
            <div class="card-actions">
              <button onclick="openProductModal(${product.id})">
                <i class="fas fa-eye"></i> Lihat
              </button>
              <button class="secondary" onclick="addToWishlist(${product.id})">
                <i class="far fa-heart"></i>
              </button>
            </div>
          `;
          productList.appendChild(card);
        });

        // Re-observe new elements for scroll reveal
        observeRevealElements();
      }

      // Filter products
      function filterProducts(category) {
        currentFilter = category;

        // Update active button
        document.querySelectorAll(".category-btn").forEach((btn) => {
          btn.classList.remove("active");
        });
        event.target.classList.add("active");

        filterAndRenderProducts(category, currentSearchTerm);
      }

      // Search functions
      function performSearch() {
        const searchTerm = searchInput.value.trim().toLowerCase();
        currentSearchTerm = searchTerm;

        if (searchTerm) {
          filterAndRenderProducts(currentFilter, searchTerm);
          showSearchResults(searchTerm);
        } else {
          clearSearch();
        }
      }

      function showSearchResults(searchTerm) {
        searchResults.style.display = "flex";
        const resultCount = getFilteredProducts(
          currentFilter,
          searchTerm
        ).length;
        searchResultsText.textContent = `Menampilkan ${resultCount} hasil untuk "${searchTerm}"`;
      }

      function clearSearch() {
        searchInput.value = "";
        currentSearchTerm = "";
        searchResults.style.display = "none";
        filterAndRenderProducts("all", "");

        // Reset category buttons
        document.querySelectorAll(".category-btn").forEach((btn) => {
          btn.classList.remove("active");
        });
        document.querySelector(".category-btn").classList.add("active");
        currentFilter = "all";
      }

      function filterAndRenderProducts(category, searchTerm = "") {
        const filtered = getFilteredProducts(category, searchTerm);
        renderProducts(filtered);
      }

      function getFilteredProducts(category, searchTerm = "") {
        let filtered = products;

        if (category !== "all") {
          filtered = filtered.filter((p) => p.category === category);
        }

        if (searchTerm) {
          filtered = filtered.filter(
            (p) =>
              p.name.toLowerCase().includes(searchTerm) ||
              p.category.toLowerCase().includes(searchTerm) ||
              p.description.toLowerCase().includes(searchTerm)
          );
        }

        return filtered;
      }

      // Generate star rating
      function generateStars(rating) {
        let stars = "";
        const fullStars = Math.floor(rating);
        const hasHalfStar = rating % 1 !== 0;

        for (let i = 0; i < fullStars; i++) {
          stars += '<i class="fas fa-star"></i>';
        }

        if (hasHalfStar) {
          stars += '<i class="fas fa-star-half-alt"></i>';
        }

        const emptyStars = 5 - Math.ceil(rating);
        for (let i = 0; i < emptyStars; i++) {
          stars += '<i class="far fa-star"></i>';
        }

        return stars;
      }

      // Cart Functions
      function addToCart(productId) {
        const product = products.find((p) => p.id === productId);
        if (!product) return;

        const existingItem = cart.find((item) => item.id === productId);

        if (existingItem) {
          existingItem.quantity += 1;
        } else {
          cart.push({
            ...product,
            quantity: 1,
          });
        }

        saveCartToLocalStorage();
        updateCartUI();
        showToast(
          "success",
          "Berhasil!",
          `${product.name} ditambahkan ke keranjang`
        );
      }

      function addToCartFromModal() {
        if (!currentProduct) return;

        const quantity = parseInt(
          document.getElementById("modalQuantity").value
        );
        const existingItem = cart.find((item) => item.id === currentProduct.id);

        if (existingItem) {
          existingItem.quantity += quantity;
        } else {
          cart.push({
            ...currentProduct,
            quantity: quantity,
          });
        }

        saveCartToLocalStorage();
        updateCartUI();
        closeProductModal();
        showToast(
          "success",
          "Berhasil!",
          `${currentProduct.name} (${quantity}x) ditambahkan ke keranjang`
        );
      }

      function removeFromCart(productId) {
        cart = cart.filter((item) => item.id !== productId);
        saveCartToLocalStorage();
        updateCartUI();
        showToast("info", "Dihapus", "Produk dihapus dari keranjang");
      }

      function updateQuantity(productId, change) {
        const item = cart.find((item) => item.id === productId);
        if (!item) return;

        item.quantity += change;

        if (item.quantity <= 0) {
          removeFromCart(productId);
        } else {
          saveCartToLocalStorage();
          updateCartUI();
        }
      }

      function updateCartUI() {
        // Update cart count badges
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        cartCount.textContent = totalItems;
        floatingCartCount.textContent = totalItems;

        // Update cart items
        if (cart.length === 0) {
          cartItems.innerHTML = `
            <div class="cart-empty">
              <i class="fas fa-shopping-cart"></i>
              <p>Keranjang belanja kosong</p>
            </div>
          `;
          document.getElementById("cartSummary").style.display = "none";
          document.getElementById("checkoutBtn").style.display = "none";
        } else {
          cartItems.innerHTML = "";
          let subtotal = 0;

          cart.forEach((item) => {
            subtotal += item.price * item.quantity;

            cartItems.innerHTML += `
              <div class="cart-item">
                <img src="${item.image}" alt="${item.name}">
                <div class="cart-item-info">
                  <div class="cart-item-name">${item.name}</div>
                  <div class="cart-item-price">Rp ${item.price.toLocaleString(
                    "id-ID"
                  )}</div>
                  <div class="cart-item-quantity">
                    <button class="quantity-btn" onclick="updateQuantity(${
                      item.id
                    }, -1)">
                      <i class="fas fa-minus"></i>
                    </button>
                    <span>${item.quantity}</span>
                    <button class="quantity-btn" onclick="updateQuantity(${
                      item.id
                    }, 1)">
                      <i class="fas fa-plus"></i>
                    </button>
                    <button class="cart-item-remove" onclick="removeFromCart(${
                      item.id
                    })">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
            `;
          });

          // Update cart summary
          const shipping = subtotal > 0 ? shippingCost : 0;
          const total = subtotal + shipping;

          document.getElementById(
            "subtotal"
          ).textContent = `Rp ${subtotal.toLocaleString("id-ID")}`;
          document.getElementById(
            "shipping"
          ).textContent = `Rp ${shipping.toLocaleString("id-ID")}`;
          document.getElementById(
            "total"
          ).textContent = `Rp ${total.toLocaleString("id-ID")}`;

          document.getElementById("cartSummary").style.display = "block";
          document.getElementById("checkoutBtn").style.display = "block";
        }
      }

      function saveCartToLocalStorage() {
        localStorage.setItem("skyshop_cart", JSON.stringify(cart));
      }

      function toggleCart() {
        cartPanel.classList.toggle("active");
        // Close mobile menu if open
        mainNav.classList.remove("active");
      }

      // Checkout Functions
      function openCheckoutModal() {
        if (cart.length === 0) return;

        // Close cart panel
        cartPanel.classList.remove("active");

        // Populate order summary
        const orderItems = document.getElementById("orderItems");
        orderItems.innerHTML = "";
        let total = 0;

        cart.forEach((item) => {
          const itemTotal = item.price * item.quantity;
          total += itemTotal;
          orderItems.innerHTML += `
            <div class="order-item">
              <span>${item.name} (${item.quantity}x)</span>
              <span>Rp ${itemTotal.toLocaleString("id-ID")}</span>
            </div>
          `;
        });

        // Add shipping
        const shipping = total > 0 ? shippingCost : 0;
        total += shipping;

        orderItems.innerHTML += `
          <div class="order-item">
            <span>Ongkos Kirim</span>
            <span>Rp ${shipping.toLocaleString("id-ID")}</span>
          </div>
        `;

        document.getElementById(
          "orderTotal"
        ).textContent = `Rp ${total.toLocaleString("id-ID")}`;

        // Show modal
        checkoutModal.classList.add("active");
        document.body.style.overflow = "hidden";
      }

      function closeCheckoutModal() {
        checkoutModal.classList.remove("active");
        document.body.style.overflow = "";
      }

      function sendToWhatsApp() {
        const form = document.getElementById("checkoutForm");

        // Validate form
        if (!form.checkValidity()) {
          form.reportValidity();
          return;
        }

        // Get form data
        const name = document.getElementById("customerName").value;
        const phone = document.getElementById("customerPhone").value;
        const address = document.getElementById("customerAddress").value;
        const note = document.getElementById("customerNote").value;

        // Build message
        let message = `*Halo SkyShop! Saya ingin melakukan pesanan*\n\n`;
        message += `*Data Pelanggan:*\n`;
        message += `Nama: ${name}\n`;
        message += `WhatsApp: ${phone}\n`;
        message += `Alamat: ${address}\n`;
        if (note) {
          message += `Catatan: ${note}\n`;
        }
        message += `\n*Detail Pesanan:*\n`;

        let total = 0;
        cart.forEach((item) => {
          const itemTotal = item.price * item.quantity;
          total += itemTotal;
          message += `- ${item.name} (${
            item.quantity
          }x) = Rp ${itemTotal.toLocaleString("id-ID")}\n`;
        });

        // Add shipping
        const shipping = total > 0 ? shippingCost : 0;
        total += shipping;

        message += `\n*Ongkos Kirim: Rp ${shipping.toLocaleString("id-ID")}*\n`;
        message += `*Total Pembayaran: Rp ${total.toLocaleString(
          "id-ID"
        )}*\n\n`;
        message += `Mohon informasikan ketersediaan stok dan total pembayaran yang harus ditransfer.\n`;
        message += `Terima kasih!`;

        // Encode message for URL
        const encodedMessage = encodeURIComponent(message);

        // WhatsApp number
        const whatsappNumber = "6287739661748";

        // Create WhatsApp URL
        const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;

        // Open WhatsApp
        window.open(whatsappURL, "_blank");

        // Show success message
        showToast(
          "success",
          "Pesanan Dikirim!",
          "Anda akan diarahkan ke WhatsApp untuk mengkonfirmasi pesanan"
        );

        // Clear cart after successful checkout
        setTimeout(() => {
          cart = [];
          saveCartToLocalStorage();
          updateCartUI();
          closeCheckoutModal();
          form.reset();
        }, 1000);
      }

      // Wishlist Functions
      function addToWishlist(productId) {
        const product = products.find((p) => p.id === productId);
        if (!product) return;

        if (wishlist.some((item) => item.id === productId)) {
          wishlist = wishlist.filter((item) => item.id !== productId);
          showToast("info", "Dihapus", `${product.name} dihapus dari wishlist`);
        } else {
          wishlist.push(product);
          showToast(
            "success",
            "Berhasil!",
            `${product.name} ditambahkan ke wishlist`
          );
        }

        saveWishlistToLocalStorage();
        updateWishlistUI();
      }

      function addToWishlistFromModal() {
        if (!currentProduct) return;

        addToWishlist(currentProduct.id);
      }

      function updateWishlistUI() {
        wishlistCount.textContent = wishlist.length;
      }

      function saveWishlistToLocalStorage() {
        localStorage.setItem("skyshop_wishlist", JSON.stringify(wishlist));
      }

      function toggleWishlist() {
        // In a real app, this would open a wishlist panel
        showToast(
          "info",
          "Wishlist",
          `Anda memiliki ${wishlist.length} produk di wishlist`
        );
      }

      // Product Modal Functions
      function openProductModal(productId) {
        currentProduct = products.find((p) => p.id === productId);
        if (!currentProduct) return;

        document.getElementById("modalImage").src = currentProduct.image;
        document.getElementById("modalTitle").textContent = currentProduct.name;
        document.getElementById("modalRating").innerHTML = generateStars(
          currentProduct.rating
        );
        document.getElementById(
          "modalReviews"
        ).textContent = `(${currentProduct.reviews} ulasan)`;
        document.getElementById(
          "modalPrice"
        ).textContent = `Rp ${currentProduct.price.toLocaleString("id-ID")}`;

        if (currentProduct.oldPrice) {
          document.getElementById(
            "modalOldPrice"
          ).textContent = `Rp ${currentProduct.oldPrice.toLocaleString(
            "id-ID"
          )}`;
          document.getElementById("modalOldPrice").style.display = "inline";
          document.getElementById("modalDiscount").textContent =
            currentProduct.badge;
          document.getElementById("modalDiscount").style.display = "inline";
        } else {
          document.getElementById("modalOldPrice").style.display = "none";
          document.getElementById("modalDiscount").style.display = "none";
        }

        document.getElementById("modalDescription").textContent =
          currentProduct.description;
        document.getElementById("modalQuantity").value = 1;

        productModal.classList.add("active");
        document.body.style.overflow = "hidden";
      }

      function closeProductModal() {
        productModal.classList.remove("active");
        document.body.style.overflow = "";
        currentProduct = null;
      }

      function increaseModalQuantity() {
        const input = document.getElementById("modalQuantity");
        input.value = parseInt(input.value) + 1;
      }

      function decreaseModalQuantity() {
        const input = document.getElementById("modalQuantity");
        if (parseInt(input.value) > 1) {
          input.value = parseInt(input.value) - 1;
        }
      }

      // Toast Notification
      function showToast(type, title, message) {
        const toastContainer = document.getElementById("toastContainer");
        const toast = document.createElement("div");
        toast.className = `toast ${type}`;

        let icon = "";
        switch (type) {
          case "success":
            icon = "fa-check-circle";
            break;
          case "error":
            icon = "fa-exclamation-circle";
            break;
          case "info":
            icon = "fa-info-circle";
            break;
        }

        toast.innerHTML = `
          <i class="fas ${icon}"></i>
          <div class="toast-message">
            <div class="toast-title">${title}</div>
            <div class="toast-text">${message}</div>
          </div>
        `;

        toastContainer.appendChild(toast);

        // Auto remove after 3 seconds
        setTimeout(() => {
          toast.classList.add("removing");
          setTimeout(() => {
            toast.remove();
          }, 300);
        }, 3000);
      }

      // Scroll Reveal
      function observeRevealElements() {
        const reveals = document.querySelectorAll(".reveal");
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("active");
              }
            });
          },
          { threshold: 0.15 }
        );

        reveals.forEach((r) => observer.observe(r));
      }

      // Initialize scroll reveal
      observeRevealElements();
    </script>
  </body>
</html>
